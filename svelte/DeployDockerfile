# vim: set filetype=dockerfile :

FROM node:23

WORKDIR /app

COPY package.json pnpm-lock.yaml ./

RUN npm install -g pnpm

COPY . .

RUN corepack enable && \
    pnpm install --frozen-lockfile && \
    pnpm build && \
    pnpm prune --prod

# RUN pnpm install --frozen-lockfile && \
#     pnpm build && \
#     pnpm prune --prod
