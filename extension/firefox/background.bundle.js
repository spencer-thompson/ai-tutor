(()=>{const e="http://localhost:8080/";async function t(e,t){let o=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json","AITUTOR-API-KEY":"test_key",Accept:"application/json"},body:JSON.stringify(t)});return await o.json()}chrome.runtime.onMessage.addListener(((o,a,n)=>{"sendCourse"===o.type&&t(`${e}course`,o.data)})),chrome.runtime.onMessage.addListener(((o,a,n)=>{"sendUser"===o.type&&t(`${e}user`,o.data)})),chrome.runtime.onMessage.addListener((async(o,a,n)=>{"setCookie"===o.type&&(token_data=await t(`${e}token`,o.data),chrome.cookies.set({url:"http://localhost:8501/",name:"token",value:token_data.token,expirationDate:Math.floor(Date.now()/1e3)+86400},(()=>{console.log(`Cookie set for aitutor.live: ${o.data}`)})))}))})();